(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{472:function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},500:function(t,e,n){"use strict";var r,i=n(430),o=n(453),a=n(523),s=n(490),c=n(459),l=n(435),u=n(456),h=n(519),p=n(437),d=n(463),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n}return f(e,t),e.prototype.getFeatures=function(t){return Object(l.b)()},e.prototype.prepareFrame=function(t){return Object(l.b)()},e.prototype.renderFrame=function(t,e){return Object(l.b)()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return Object(l.b)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===u.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=u.a.LOADED&&e!=u.a.ERROR&&t.addEventListener(p.a.CHANGE,this.boundHandleImageChange_),e==u.a.IDLE&&(t.load(),e=t.getState()),e==u.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==d.a.READY&&t.changed()},e}(h.a),g=n(447),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=Object(g.c)(),n.pixelTransform=Object(g.c)(),n.inversePixelTransform=Object(g.c)(),n.context=null,n.containerReused=!1,n.createTransformStringCanvas_=Object(o.a)(1,1).canvas,n}return T(e,t),e.prototype.useContainer=function(t,e,n){var r,i,a=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===a&&((c=t.firstElementChild)instanceof HTMLCanvasElement&&(i=c.getContext("2d")));if(i&&i.canvas.style.transform===e?(this.container=t,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=a;var s=r.style;s.position="absolute",s.width="100%",s.height="100%";var c=(i=Object(o.a)()).canvas;r.appendChild(c),(s=c.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=r,this.context=i}},e.prototype.clip=function(t,e,n){var r=e.pixelRatio,o=e.size[0]*r/2,a=e.size[1]*r/2,s=e.viewState.rotation,l=Object(i.C)(n),u=Object(i.D)(n),h=Object(i.w)(n),p=Object(i.v)(n);Object(g.a)(e.coordinateToPixelTransform,l),Object(g.a)(e.coordinateToPixelTransform,u),Object(g.a)(e.coordinateToPixelTransform,h),Object(g.a)(e.coordinateToPixelTransform,p),t.save(),Object(c.s)(t,-s,o,a),t.beginPath(),t.moveTo(l[0]*r,l[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(h[0]*r,h[1]*r),t.lineTo(p[0]*r,p[1]*r),t.clip(),Object(c.s)(t,s,o,a)},e.prototype.clipUnrotated=function(t,e,n){var r=Object(i.C)(n),o=Object(i.D)(n),a=Object(i.w)(n),s=Object(i.v)(n);Object(g.a)(e.coordinateToPixelTransform,r),Object(g.a)(e.coordinateToPixelTransform,o),Object(g.a)(e.coordinateToPixelTransform,a),Object(g.a)(e.coordinateToPixelTransform,s);var c=this.inversePixelTransform;Object(g.a)(c,r),Object(g.a)(c,o),Object(g.a)(c,a),Object(g.a)(c,s),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new a.a(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(s.a.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(s.a.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,a){var s=i/2,c=o/2,l=r/e,u=-l,h=-t[0]+a,p=-t[1];return Object(g.b)(this.tempTransform_,s,c,l,u,-n,h,p)},e.prototype.getDataAtPixel=function(t,e,n){var r,i=Object(g.a)(this.inversePixelTransform,t.slice()),o=this.context;try{r=o.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:r}return 0===r[3]?null:r},e.prototype.createTransformString=function(t){return this.createTransformStringCanvas_.style.transform=Object(g.i)(t),this.createTransformStringCanvas_.style.transform},e}(m);e.a=y},567:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function i(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)}e.b=r},684:function(t,e,n){"use strict";n.r(e);var r,i=n(503),o="preload",a="useInterimTilesOnError",s=n(445),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=this,r=e||{},i=Object(s.a)({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return c(e,t),e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(a)},e.prototype.setUseInterimTilesOnError=function(t){this.set(a,t)},e}(i.a),u=n(435),h=n(444),p=n(567),d=n(472),f=n(430),m=n(500),g=n(447),T=n(440),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=Object(f.j)(),n.tmpTileRange_=new p.b(0,0,0,0),n}return y(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==d.a.LOADED||n==d.a.EMPTY||n==d.a.ERROR&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,i,o);return s.getState()==d.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(d.a.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,i=r.projection,o=r.resolution,a=r.center,s=r.rotation,c=t.pixelRatio,l=this.getLayer(),p=l.getSource(),m=p.getRevision(),y=p.getTileGridForProjection(i),v=y.getZForResolution(o,p.zDirection),b=y.getResolution(v),O=t.extent,x=n.extent&&Object(h.fromUserExtent)(n.extent,i);x&&(O=Object(f.B)(O,Object(h.fromUserExtent)(n.extent,i)));var j=p.getTilePixelRatio(c),_=Math.round(t.size[0]*j),R=Math.round(t.size[1]*j);if(s){var E=Math.round(Math.sqrt(_*_+R*R));_=E,R=E}var P=b*_/2/j,w=b*R/2/j,C=[a[0]-P,a[1]-w,a[0]+P,a[1]+w],Y=y.getTileRangeForExtentAndZ(O,v),X={};X[v]={};var D=this.createLoadedTileFinder(p,i,X),A=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;for(var S=Y.minX;S<=Y.maxX;++S)for(var L=Y.minY;L<=Y.maxY;++L){var M=this.getTile(v,S,L,t);if(this.isDrawableTile(M)){var F=Object(u.c)(this);if(M.getState()==d.a.LOADED){X[v][M.tileCoord.toString()]=M;var U=M.inTransition(F);this.newTiles_||!U&&-1!==this.renderedTiles.indexOf(M)||(this.newTiles_=!0)}if(1===M.getAlpha(F,t.time))continue}var z=y.getTileCoordChildTileRange(M.tileCoord,I,A),N=!1;z&&(N=D(v+1,z)),N||y.forEachTileCoordParentTileRange(M.tileCoord,D,I,A)}var k=b/o;Object(g.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/j,1/j,s,-_/2,-R/2);var H=this.createTransformString(this.pixelTransform);this.useContainer(e,H,n.opacity);var Z=this.context,q=Z.canvas;Object(g.d)(this.inversePixelTransform,this.pixelTransform),Object(g.b)(this.tempTransform_,_/2,R/2,k,k,0,-_/2,-R/2),q.width!=_||q.height!=R?(q.width=_,q.height=R):this.containerReused||Z.clearRect(0,0,_,R),x&&this.clipUnrotated(Z,t,x),this.preRender(Z,t),this.renderedTiles.length=0;var G,K,V,J=Object.keys(X).map(Number);J.sort(T.f),1!==n.opacity||this.containerReused&&!p.getOpaque(t.viewState.projection)?(G=[],K=[]):J=J.reverse();for(var Q=J.length-1;Q>=0;--Q){var W=J[Q],B=p.getTilePixelSize(W,c,i),$=y.getResolution(W)/b,tt=B[0]*$*k,et=B[1]*$*k,nt=y.getTileCoordForCoordAndZ(Object(f.C)(C),W),rt=y.getTileCoordExtent(nt),it=Object(g.a)(this.tempTransform_,[j*(rt[0]-C[0])/b,j*(C[3]-rt[3])/b]),ot=j*p.getGutterForProjection(i),at=X[W];for(var st in at){var ct=(M=at[st]).tileCoord,lt=it[0]-(nt[1]-ct[1])*tt,ut=Math.round(lt+tt),ht=it[1]-(nt[2]-ct[2])*et,pt=Math.round(ht+et),dt=ut-(S=Math.round(lt)),ft=pt-(L=Math.round(ht)),mt=v===W;if(!(U=mt&&1!==M.getAlpha(Object(u.c)(this),t.time)))if(G){Z.save(),V=[S,L,S+dt,L,S+dt,L+ft,S,L+ft];for(var gt=0,Tt=G.length;gt<Tt;++gt)if(v!==W&&W<K[gt]){var yt=G[gt];Z.beginPath(),Z.moveTo(V[0],V[1]),Z.lineTo(V[2],V[3]),Z.lineTo(V[4],V[5]),Z.lineTo(V[6],V[7]),Z.moveTo(yt[6],yt[7]),Z.lineTo(yt[4],yt[5]),Z.lineTo(yt[2],yt[3]),Z.lineTo(yt[0],yt[1]),Z.clip()}G.push(V),K.push(W)}else Z.clearRect(S,L,dt,ft);this.drawTileImage(M,t,S,L,dt,ft,ot,mt,n.opacity),G&&!U&&Z.restore(),this.renderedTiles.push(M),this.updateUsedTiles(t.usedTiles,p,M)}}return this.renderedRevision=m,this.renderedResolution=b,this.extentChanged=!this.renderedExtent_||!Object(f.p)(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=c,this.renderedProjection=i,this.manageTilePyramid(t,p,y,c,i,O,v,l.getPreload()),this.scheduleExpireCache(t,p),this.postRender(Z,t),n.extent&&Z.restore(),H!==q.style.transform&&(q.style.transform=H),this.container},e.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,c){var l=this.getTileImage(t);if(l){var h=Object(u.c)(this),p=s?t.getAlpha(h,e.time):1,d=c*p,f=d!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,n,r,i,o),f&&this.context.restore(),1!==p?e.animate=!0:s&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=Object(u.c)(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=Object(u.c)(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,r,i,o,a,s,c){var l=Object(u.c)(e);l in t.wantedTiles||(t.wantedTiles[l]={});var h,p,f,m,g,T,y=t.wantedTiles[l],v=t.tileQueue;for(T=n.getMinZoom();T<=a;++T)for(p=n.getTileRangeForExtentAndZ(o,T,p),f=n.getResolution(T),m=p.minX;m<=p.maxX;++m)for(g=p.minY;g<=p.maxY;++g)a-T<=s?((h=e.getTile(T,m,g,r,i)).getState()==d.a.IDLE&&(y[h.getKey()]=!0,v.isKeyQueued(h.getKey())||v.enqueue([h,l,n.getTileCoordCenter(h.tileCoord),f])),void 0!==c&&c(h)):e.useTile(T,m,g,i)},e}(m.a);v.prototype.getLayer;var b=v,O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e){return t.call(this,e)||this}return O(e,t),e.prototype.createRenderer=function(){return new b(this)},e}(l);e.default=x}}]);