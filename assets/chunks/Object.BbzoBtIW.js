import{g as b}from"./math.E5ukR3YQ.js";const A={PROPERTYCHANGE:"propertychange"};var w=typeof Object.assign=="function"?Object.assign:function(t,e){var i=arguments;if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),s=1,r=arguments.length;s<r;++s){var o=i[s];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function O(t){for(var e in t)delete t[e]}function G(t){var e=[];for(var i in t)e.push(t[i]);return e}function V(t){var e;for(e in t)return!1;return!e}function C(t){var e=function(i){var n=t.listener,s=t.bindTo||t.target;return t.callOnce&&y(t),n.call(s,i)};return t.boundListener=e,e}function m(t,e,i,n){for(var s,r=0,o=t.length;r<o;++r)if(s=t[r],s.listener===e&&s.bindTo===i)return n&&(s.deleteIndex=r),s}function h(t,e){var i=p(t);return i?i[e]:void 0}function p(t,e){var i=t.ol_lm;return!i&&e&&(i=t.ol_lm={}),i}function S(t){delete t.ol_lm}function L(t,e){var i=h(t,e);if(i){for(var n=0,s=i.length;n<s;++n)t.removeEventListener(e,i[n].boundListener),O(i[n]);i.length=0;var r=p(t);r&&(delete r[e],Object.keys(r).length===0&&S(t))}}function c(t,e,i,n,s){var r=p(t,!0),o=r[e];o||(o=r[e]=[]);var a=m(o,i,n,!1);return a?s||(a.callOnce=!1):(a={bindTo:n,callOnce:!!s,listener:i,target:t,type:e},t.addEventListener(e,C(a)),o.push(a)),a}function d(t,e,i,n){return c(t,e,i,n,!0)}function g(t,e,i,n){var s=h(t,e);if(s){var r=m(s,i,n,!0);r&&y(r)}}function y(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=h(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);i!==-1&&e.splice(i,1),e.length===0&&L(t.target,t.type)}O(t)}}function M(t){var e=p(t);if(e)for(var i in e)L(t,i)}var l=function(){this.disposed_=!1};l.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};l.prototype.disposeInternal=function(){};const D=l;function W(){return!0}function $(){return!1}function _(){}var v=function(e){this.propagationStopped,this.type=e,this.target=null};v.prototype.preventDefault=function(){this.propagationStopped=!0};v.prototype.stopPropagation=function(){this.propagationStopped=!0};function Y(t){t.stopPropagation()}const R=v;var I=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(n,s){var r=this.listeners_[n];r||(r=this.listeners_[n]=[]),r.indexOf(s)===-1&&r.push(s)},e.prototype.dispatchEvent=function(n){var s=typeof n=="string"?new R(n):n,r=s.type;s.target=this;var o=this.listeners_[r],a;if(o){r in this.dispatching_||(this.dispatching_[r]=0,this.pendingRemovals_[r]=0),++this.dispatching_[r];for(var u=0,T=o.length;u<T;++u)if(o[u].call(this,s)===!1||s.propagationStopped){a=!1;break}if(--this.dispatching_[r],this.dispatching_[r]===0){var P=this.pendingRemovals_[r];for(delete this.pendingRemovals_[r];P--;)this.removeEventListener(r,_);delete this.dispatching_[r]}return a}},e.prototype.disposeInternal=function(){M(this)},e.prototype.getListeners=function(n){return this.listeners_[n]},e.prototype.hasListener=function(n){return n?n in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(n,s){var r=this.listeners_[n];if(r){var o=r.indexOf(s);n in this.pendingRemovals_?(r[o]=_,++this.pendingRemovals_[n]):(r.splice(o,1),r.length===0&&delete this.listeners_[n])}},e}(D);const U=I,j={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};var N=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(j.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(n,s){if(Array.isArray(n)){for(var r=n.length,o=new Array(r),a=0;a<r;++a)o[a]=c(this,n[a],s);return o}else return c(this,n,s)},e.prototype.once=function(n,s){if(Array.isArray(n)){for(var r=n.length,o=new Array(r),a=0;a<r;++a)o[a]=d(this,n[a],s);return o}else return d(this,n,s)},e.prototype.un=function(n,s){if(Array.isArray(n)){for(var r=0,o=n.length;r<o;++r)g(this,n[r],s);return}else g(this,n,s)},e}(U);const H=N;var E=function(t){function e(i,n,s){t.call(this,i),this.key=n,this.oldValue=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(R),x=function(t){function e(i){t.call(this),b(this),this.values_={},i!==void 0&&this.setProperties(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n){var s;return this.values_.hasOwnProperty(n)&&(s=this.values_[n]),s},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return w({},this.values_)},e.prototype.notify=function(n,s){var r;r=K(n),this.dispatchEvent(new E(r,n,s)),r=A.PROPERTYCHANGE,this.dispatchEvent(new E(r,n,s))},e.prototype.set=function(n,s,r){if(r)this.values_[n]=s;else{var o=this.values_[n];this.values_[n]=s,o!==s&&this.notify(n,o)}},e.prototype.setProperties=function(n,s){for(var r in n)this.set(r,n[r],s)},e.prototype.unset=function(n,s){if(n in this.values_){var r=this.values_[n];delete this.values_[n],s||this.notify(n,r)}},e}(H),f={};function K(t){return f.hasOwnProperty(t)?f[t]:f[t]="change:"+t}const F=x;export{F as B,D,R as E,$ as F,A as O,W as T,_ as V,j as a,U as b,y as c,O as d,w as e,G as f,K as g,H as h,V as i,d as j,c as l,Y as s,g as u};
