import{m as n,L as y}from"./mapbox-wind.esm.BM4g4PlF.js";import{d as u,h as g,l as f,A as b,o as w,c as x}from"./framework.BBlJMq6K.js";import{T as z,D as _,R as k,a as T}from"./index.Y03mSbfw.js";const j=u({name:"ColorizeTile",__name:"colorize-tile",emits:["mount"],setup(h,{expose:t,emit:s}){const o=g(),i=s;let e;function c(){n.accessToken="pk.eyJ1IjoibWFwYm94LWdsLWpzIiwiYSI6ImNram9ybGI1ajExYjQyeGxlemppb2pwYjIifQ.LGy5UGNIsXUZdYMvfYRiAQ",e=new n.Map({container:o.value,center:{lng:105.70150033978689,lat:22.76021405309811},zoom:0,antialias:!0,style:{version:8,sources:{carto:{type:"raster",tiles:["//a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png","//b.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png","//c.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png","//d.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"],tileSize:256,minzoom:1,maxzoom:18}},layers:[{id:"carto",type:"raster",source:"carto",paint:{"raster-resampling":"linear"}},{id:"background",type:"background",layout:{visibility:"none"}}]}}),e.on("load",()=>{const a=new z("wind",{url:"https://blog.sakitam.com/wind-layer/data/tiles/2023111700/2023111703/{z}/{x}/{y}/wind-surface.jpeg",tileSize:256,minZoom:0,maxZoom:3,roundZoom:!0,decodeType:_.imageWithExif,wrapX:!0}),m=[[0,[98,113,183,255]],[1,[57,97,159,255]],[3,[74,148,169,255]],[5,[77,141,123,255]],[7,[83,165,83,255]],[9,[53,159,53,255]],[11,[167,157,81,255]],[13,[159,127,58,255]],[15,[161,108,92,255]],[17,[129,58,78,255]],[19,[175,80,136,255]],[21,[117,74,147,255]],[24,[109,97,163,255]],[27,[68,105,141,255]],[29,[92,144,152,255]],[36,[125,68,165,255]],[46,[231,215,215,256]],[51,[219,212,135,256]],[77,[205,202,112,256]],[104,[128,128,128,255]]].reduce((d,r,v)=>d.concat(r[0],`rgba(${r[1].join(",")})`),[]),p=new y("wind",a,{styleSpec:{"fill-color":["interpolate",["linear"],["get","value"],...m],opacity:1},renderFrom:k.rg,widthSegments:1,heightSegments:1,displayRange:[0,104],renderType:T.colorize});e.addLayer(p)}),i("mount")}return f(()=>{c()}),b(()=>{e&&e.remove()}),t({pause:()=>{},resume:()=>{}}),(a,l)=>(w(),x("div",{class:"playground-content",ref_key:"mapRef",ref:o},null,512))}});export{j as _};
