import{A as f}from"./proj.BNE8J585.js";import{B as _,d as y}from"./Object.DdgBWT7D.js";const a={ADD:"add",REMOVE:"remove"};var p=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),u={LENGTH:"length"},h=function(i){p(e,i);function e(t,n,r){var o=i.call(this,t)||this;return o.element=n,o.index=r,o}return e}(_),g=function(i){p(e,i);function e(t,n){var r=i.call(this)||this;r.on,r.once,r.un;var o=n||{};if(r.unique_=!!o.unique,r.array_=t||[],r.unique_)for(var s=0,c=r.array_.length;s<c;++s)r.assertUnique_(r.array_[s],s);return r.updateLength_(),r}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var n=0,r=t.length;n<r;++n)this.push(t[n]);return this},e.prototype.forEach=function(t){for(var n=this.array_,r=0,o=n.length;r<o;++r)t(n[r],r,n)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(u.LENGTH)},e.prototype.insertAt=function(t,n){this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new h(a.ADD,n,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var n=this.getLength();return this.insertAt(n,t),this.getLength()},e.prototype.remove=function(t){for(var n=this.array_,r=0,o=n.length;r<o;++r)if(n[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new h(a.REMOVE,n,t)),n},e.prototype.setAt=function(t,n){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(n,t);var o=this.array_[t];this.array_[t]=n,this.dispatchEvent(new h(a.REMOVE,o,t)),this.dispatchEvent(new h(a.ADD,n,t))}else{for(var s=r;s<t;++s)this.insertAt(s,void 0);this.insertAt(t,n)}},e.prototype.updateLength_=function(){this.set(u.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,n){for(var r=0,o=this.array_.length;r<o;++r)if(this.array_[r]===t&&r!==n)throw new f(58)},e}(y);export{g as C,a};
